<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Fiber Optic CFOT Exam</title>
<style>
/* Basic styling */
body {
    font-family: Arial, sans-serif;
    margin: 20px;
    background-color: #add8e6; /* Light blue background */
}

h1 {
    color: #333;
    text-align: center;
}

#header {
    margin: 20px auto;
    width: 10in;
    height: 2in;
    background-image: url('https://t3.ftcdn.net/jpg/01/10/39/34/360_F_110393413_ve9rWniGDKUZWv5NbH96Kf9raN25hDhS.jpg');
    background-size: cover;
    border-radius: 8px;
}

.container {
    display: flex;
    gap: 20px;
    flex-wrap: wrap;
}

.exam-column, .video-column {
    flex: 1;
    min-width: 300px;
    max-width: 600px;
}

.question-container {
    padding: 20px;
    background-color: #fff;
    border-radius: 8px;
    box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
    margin-bottom: 20px;
}

.question {
    margin-bottom: 20px;
    font-size: 1.1em;
    text-align: left;
}

.options {
    text-align: left;
}

.options label {
    display: block;
    margin: 5px 0;
    cursor: pointer;
}

button {
    padding: 10px 20px;
    background-color: #3498db;
    color: white;
    border: none;
    border-radius: 5px;
    font-size: 16px;
    cursor: pointer;
    margin-top: 20px;
}

button:hover {
    background-color: #2980b9;
}

.result {
    font-size: 1.2em;
    color: #2c3e50;
    margin-top: 20px;
}

#print-section {
    display: none;
    margin-top: 40px;
}

#certificate {
    border: 2px solid #3498db;
    padding: 20px;
    display: none;
}

#progress-bar-container {
    display: flex;
    justify-content: left;
    margin: 20px 0;
}

.circle-progress {
    width: 120px;
    height: 120px;
    border-radius: 50%;
    border: 10px solid lightgray;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    font-size: 1.2em;
    font-weight: bold;
    margin-right: 20px; /* Position on the left side */
}

.circle-progress::before {
    content: '';
    width: 100%;
    height: 100%;
    border-radius: 50%;
    position: absolute;
    background-color: #3498db;
    clip-path: circle(50% at 50% 50%);
}

.progress-text {
    position: absolute;
    z-index: 1;
    color: #fff;
}

.video-container iframe {
    width: 100%;
    height: 100%;
    border-radius: 8px;
}

.question-count-buttons {
    display: flex;
    justify-content: center;
    gap: 10px;
    margin-top: 20px;
}

.question-count-buttons button {
    background-color: #2ecc71;
    font-weight: bold;
}

.question-count-buttons button:hover {
    background-color: #27ae60;
}

#refresh-button {
    font-size: 1.2em;
    color: #3498db;
    background-color: transparent;
    border: none;
    cursor: pointer;
}
</style>
</head>
<body>

<div id="header"></div>
<h1>Fiber Optic Exam</h1>
<p style="text-align:center;">Practice your knowledge and skills to prepare for the CFOT certification!</p>

<div class="question-count-buttons">
    <button onclick="setQuestionCount(10)">10 Questions</button>
    <button onclick="setQuestionCount(20)">20 Questions</button>
    <button onclick="payFor50Questions()">50 Questions - Pay 99 Pesos</button>
    <button id="refresh-button" onclick="refreshPage()">&#x21bb;</button>
</div>

<div class="container">
    <!-- Exam Column -->
    <div class="exam-column">
        <div id="exam-container" class="question-container">
            <input type="text" id="name-input" placeholder="Enter your name" required>
            <div id="progress-bar-container">
                <div class="circle-progress">
                    <div class="progress-text" id="progress-text">0%</div>
                </div>
                <div id="question-section">
                    <!-- Questions will be dynamically added here -->
                </div>
            </div>
            
            <button onclick="nextQuestion()">Next Question</button>
            <button onclick="submitExam()" id="submit-button" style="display:none;">Submit Exam</button>
            <button onclick="finishExam()" id="finish-button" style="display:none;">Finish Exam</button>
        </div>

        <div id="result" class="result"></div>

        <div id="print-section" class="question-container">
            <h2>Certificate of Appreciation</h2>
            <div id="certificate">
                <p>This certifies that <strong id="cert-name"></strong></p>
                <p>has successfully completed the Fiber Optic CFOT Exam.</p>
                <p>Your score: <strong id="cert-score"></strong> out of <strong id="cert-total"></strong>.</p>
            </div>
            <button onclick="printResults()">Print Certificate</button>
        </div>
    </div>

    <!-- Video Column -->
    <div class="video-column">
        <div class="video-container">
            <iframe width="560" height="315" src="https://www.youtube.com/watch?v=Tm8LGxTLtQk" 
                    title="Fiber Optic Training" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
            </iframe>
        </div>
    </div>
</div>

<script>
let score = 0;
let currentQuestionIndex = 0;
let totalQuestions = 10; // Default to 10 questions

const questions = [
    { question: "What does CFOT stand for?", options: ["Certified Fiber Optic Technician", "Certified Fiber Optic Trainer", "Central Fiber Optic Training", "Core Fiber Optical Technician"], answer: "Certified Fiber Optic Technician" },
    { question: "What is the typical core diameter of single-mode fiber?", options: ["8-10 microns", "50 microns", "62.5 microns", "100 microns"], answer: "8-10 microns" },
    { question: "Which light source is typically used in single-mode fiber?", options: ["Laser", "LED", "Incandescent", "Fluorescent"], answer: "Laser" },
    { question: "What is the main advantage of fiber optic cables over copper cables?", options: ["Higher bandwidth", "Lower cost", "Easier installation", "More flexibility"], answer: "Higher bandwidth" },
    { question: "What is an OTDR used for?", options: ["Testing fiber optic cable continuity", "Measuring light intensity", "Splicing fiber optic cables", "Cleaning fiber connectors"], answer: "Testing fiber optic cable continuity" },
    { question: "Which type of fiber optic cable is primarily used for long-distance communication?", options: ["Single-mode", "Multi-mode", "Plastic Optical Fiber", "Hybrid fiber"], answer: "Single-mode" },
    { question: "What is 'attenuation' in fiber optics?", options: ["Loss of signal strength", "Increase in bandwidth", "Measure of light source", "Amount of data sent"], answer: "Loss of signal strength" },
    { question: "In fiber optics, what does a 'splice' refer to?", options: ["Joining two fibers together", "Connecting fiber to a switch", "Cutting fiber cable", "Increasing signal strength"], answer: "Joining two fibers together" },
    { question: "Which device is used to join two optical fibers?", options: ["Fusion splicer", "OTDR", "Power meter", "Fiber cleaver"], answer: "Fusion splicer" },
    { question: "What is 'backscatter' in fiber optics?", options: ["Light that is scattered back toward the source", "Light that passes through fiber", "Light absorbed by fiber", "Light emitted from a light source"], answer: "Light that is scattered back toward the source" },
    // Additional questions here
];

function refreshPage() {
    location.reload();
}

// Set question count and start exam
function setQuestionCount(count) {
    totalQuestions = count;
    shuffleQuestions();
    renderQuestion();
}

// Payment prompt for 50 questions
function payFor50Questions() {
    const confirmPayment = confirm("Pay 99 pesos to access 50 questions?");
    if (confirmPayment) {
        setQuestionCount(50);
    }
}

// Shuffle questions for each exam
function shuffleQuestions() {
    questions.sort(() => Math.random() - 0.5);
}

// Render the question
function renderQuestion() {
    const questionSection = document.getElementById("question-section");
    questionSection.innerHTML = "";
    
    const questionData = questions[currentQuestionIndex];
    const questionElem = document.createElement("div");
    questionElem.classList.add("question");
    questionElem.innerText = questionData.question;
    questionSection.appendChild(questionElem);
    
    const optionsDiv = document.createElement("div");
    optionsDiv.classList.add("options");
    questionData.options.forEach(option => {
        const optionLabel = document.createElement("label");
        optionLabel.innerHTML = `<input type="radio" name="option" value="${option}"> ${option}`;
        optionsDiv.appendChild(optionLabel);
    });
    questionSection.appendChild(optionsDiv);

    updateProgress();
}

// Update circular progress
function updateProgress() {
    const progressElement = document.getElementById("progress-text");
    const progress = Math.round((currentQuestionIndex / totalQuestions) * 100);
    progressElement.innerText = `${progress}%`;
}

// Function to handle Next Question button
function nextQuestion() {
    const selectedOption = document.querySelector('input[name="option"]:checked');
    if (selectedOption) {
        if (selectedOption.value === questions[currentQuestionIndex].answer) {
            score++;
        }
        currentQuestionIndex++;
        if (currentQuestionIndex < totalQuestions) {
            renderQuestion();
        } else {
            finishExam();
        }
    } else {
        alert("Please select an answer before proceeding.");
    }
}

// Function to submit the exam
function submitExam() {
    finishExam();
}

// Function to finish the exam and display the certificate
function finishExam() {
    document.getElementById("exam-container").style.display = "none";
    document.getElementById("print-section").style.display = "block";
    document.getElementById("certificate").style.display = "block";
    document.getElementById("cert-name").innerText = document.getElementById("name-input").value;
    document.getElementById("cert-score").innerText = `${score} out of ${totalQuestions}`;
}

// Function to print the results
function printResults() {
    window.print();
}

// Initialize the exam with default settings
shuffleQuestions();
renderQuestion();
</script>

</body>
</html>
